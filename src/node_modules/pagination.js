module.exports = pagination

function pagination (contracts) {
  let contractCount = contracts.length
  let cardsCount = 8 // cards displayed per page

  // let firstPage = 1
  let lastPage = contracts.length <= cardsCount ?
    null
    : Math.ceil(contractCount / cardsCount)

  let pageCount = Math.ceil(contracts.length / cardsCount)
  let datas = contracts.reduce((containers, el, i) => {
    const pos = Math.floor(i / cardsCount)
    const container = containers[pos]
    container.push(el)
    return containers
  }, [...Array(pageCount)].map(_ => []))

  return {
    pageCount,
    contractCount,
    cardsCount,
    lastPage,
    datas
  }

}
