const bel = require('bel')
const csjs = require('csjs-inject')
let currentUrl = 'window.location.href'
let css

module.exports = paginationButtons

function paginationButtons ({nextPage, previousPage, currentPage, lastPage}) {
  let el = bel`
    <div class=${css.pagination}>
      <div class="${css.previous} ${css.button}" onclick=${()=>goToPageUrl(previousPage)}>Previous</div>
      <div class="${css.next} ${css.button}" onclick=${()=>goToPageUrl(nextPage)}>Next</div>
    </div>`
  return el
}


// ===== helper functions =====

function goToPageUrl(page) {
  const newUrl = `${window.location.href}?page=${page}`
  if (currentUrl != newUrl && page != null) location.assign(newUrl)
}


// ===== css =====

css = csjs`
  .pagination {
    display: flex;
    justify-content: center;
  }
  .button {
    width: 50px;
    border: 1px solid var(--secondary);
    background-color: var(--primary);
    border-radius: 5px;
    padding: 1%;
    display: flex;
    justify-content: center;
    margin: 5px;
  }
  .button:hover {
    background-color: var(--secondary);
    color: white;
    cursor: pointer;
  }
  .previous {}
  .next {}
`
