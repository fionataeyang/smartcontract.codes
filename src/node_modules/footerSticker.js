const bel = require('bel')
const csjs = require('csjs-inject')
const icon = require('icon')
const svg = require('./svg.json')

module.exports = footerSticker

function footerSticker() {
    return bel`
        <div class=${css.footerSticker}>
            <button class="${css.button} ${css.newContract}">
                <span class=${css['icon-new']} onclick=${openNew}>
                    ${icon('new', svg.new)}
                </span>
            </button>
        </div>

    `
}

function openNew () {
    window.open('https://ethereum-play.github.io/editor-solidity/')
}

const css = csjs`
.button {
    font-size: var(--button-default-font-size);
    vertical-align: middle;
    width: 44px;
    height: 44px;
    transition: background-color .3s ease-in-out;
}
.footerSticker {
    position: fixed;
    right: 16px;
    bottom: 16px;
    z-index: 9999;
}
.newContract {
    background-color: var(--button-sticker);
    -webkit-transition: background .3s ease-in-out;
    -moz-transition: background .3s ease-in-out;
    -o-transition: background .3s ease-in-out;
    transition: background .3s ease-in-out;
    border-radius: 50%;
    box-shadow: 0 10px 10px rgba(0, 0, 0, .4);
}
.newContract:hover {
    background-color: var(--button-sticker-hover);
}
.newContract span {
    display: flex;
    align-items: center;
    justify-content: center;
}
.icon-new svg g {
    fill: var(--icon-new-fill);
    transition: fill .3s ease-in-out;
    -webkit-transition: fill .3s ease-in-out;
    -moz-transition: fill .3s ease-in-out;
    -o-transition: fill .3s ease-in-out;
}
`